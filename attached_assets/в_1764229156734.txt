‚úÖ 1. –ß—Ç–æ –æ–Ω —É–∂–µ —Å–¥–µ–ª–∞–ª (–∫—Ä–∞—Ç–∫–æ, –ø–æ —Ñ–∞–∫—Ç—É)
1) –î–æ–±–∞–≤–∏–ª –ø–æ–ª–µ extraPrice

–î–æ–±–∞–≤–∏–ª extraPrice –≤ schema.ts –¥–ª—è:

ingredients

snapshotIngredients

–ü—Ä–æ—Ç–æ–ª–∫–Ω—É–ª —Å—Ö–µ–º—É –≤ –ë–î (db:push).

2) –û–±–Ω–æ–≤–∏–ª —Å–∏—Å—Ç–µ–º—É —Å–Ω–∞–ø—à–æ—Ç–æ–≤

–î–æ–±–∞–≤–∏–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ extraPrice –≤ snapshot-routes.ts.

3) –°–æ–∑–¥–∞–ª —Å–µ—Ä–≤–∏—Å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª: client/src/lib/pricingService.ts, –≥–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

getExtraPrice()

getProteinPrice()

calculateWunschbowlPrice()

getMinProteinPrices()

–í—Å–µ —Ä–∞—Å—á—ë—Ç—ã —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

4) –û–±–Ω–æ–≤–∏–ª BowlBuilderDialog

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤—ë–ª –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω –∏ —Ä–∞—Å—á—ë—Ç—ã –Ω–∞ pricingService.

–≠–∫—Å—Ç—Ä–∞-–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç extraPrice, –∞ –Ω–µ ingredient.price.

–£–±—Ä–∞–ª –ø—Ä—è–º—ã–µ —Ä–∞—Å—á—ë—Ç—ã parseFloat(ingredient.price).

5) –ü—Ä–æ–≤–µ—Ä–∏–ª –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–≤–µ—Ä–∏–ª cartStore, telegram notifications, Menu page ‚Äî –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–∏ —Ü–µ–Ω.

–ü–æ—á–∏—Å—Ç–∏–ª –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã–∑–æ–≤—ã.

6) –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤–æ–π —Å—Ö–µ–º–æ–π.
üìå 2. –ü–ª–∞–Ω ¬´—á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å¬ª (–∫–æ—Ç–æ—Ä—ã–π –æ–Ω –ø—Ä–∏—Å–ª–∞–ª —Ä–∞–Ω–µ–µ)

(–¢—ã —Å–∫–∞–∑–∞–ª ¬´–∫ —ç—Ç–æ–º—É —è –ø—Ä–∏–±–∞–≤–ª—é —Ç–æ—Ç —Ç–µ–∫—Å—Ç ‚Äú–ù–∞—à –ø–ª–∞–Ω‚Äù, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å¬ª ‚Äî —è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª —Å–º—ã—Å–ª, —Ç–∞–∫ –∫–∞–∫ —Å–∞–º —Ç–µ–∫—Å—Ç –Ω–µ –±—ã–ª –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.)

–í–æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–ª–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –ø—Ä–∏—Å—ã–ª–∞–ª:

A) –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ü–µ–Ω Wunschbowl

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω –≤ –º–µ–Ω—é.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É —Ü–µ–Ω—ã –≤ –∫–æ—Ä–∑–∏–Ω—É.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É —Ü–µ–Ω—ã –≤ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á—ë—Ç totalPrice –≤ cartStore.

B) –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏—Å—Ç–µ–º—É snapshots

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏—è ZIP –∞—Ä—Ö–∏–≤–∞.

–í ZIP –¥–æ–ª–∂–Ω—ã –≤—Ö–æ–¥–∏—Ç—å:

db_dump.sql

/public/media/ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ –∫ –æ–¥–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –∏–º–µ–Ω–∏ (fallback –µ—Å–ª–∏ –Ω–µ—Ç —Ñ–∞–π–ª–∞).

C) –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç

–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Ä–∞–∑–±–∏–≤–∫—É —Ü–µ–Ω extras.

–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –Ω–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫.

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–∫–∞–∑–∞ —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π —Ü–µ–Ω.

D) –ü—Ä–∏–≤—è–∑–∫–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤.

–§–æ–ª–±—ç–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–∞.

E) –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å extraPrice.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ extraPrice –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI.

‚ùó 3. –ß—Ç–æ –µ—â—ë –ù–ï —Å–¥–µ–ª–∞–Ω–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å
1) –°–∫–∞—á–∏–≤–∞–µ–º—ã–µ ZIP-—Å–Ω–∞–ø—à–æ—Ç—ã ‚Äî –ù–ï —Å–¥–µ–ª–∞–Ω–æ

–ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

–ì–µ–Ω–µ—Ä–∞—Ü–∏—é ZIP –∞—Ä—Ö–∏–≤–∞.

–≠–∫—Å–ø–æ—Ä—Ç SQL –¥–∞–º–ø–∞.

–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ ZIP.

2) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –∏–º–µ–Ω–∏ ‚Äî –ù–ï —Å–¥–µ–ª–∞–Ω–æ

–ù—É–∂–Ω–æ:

–ù–∞ –±—ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –ª–æ–≥–∏–∫—É:

–ò—Å–∫–∞—Ç—å —Ñ–∞–π–ª –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞.

–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É.

3) PricingService –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ù—É–∂–Ω–æ:

–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pricingService.

–î–æ–±–∞–≤–∏—Ç—å:

–†–∞–∑–±–∏–≤–∫—É –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º

–¶–µ–Ω—ã –∑–∞ extras

–ò—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É

4) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cartStore

–ú–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å addToCart, updateItem, calculateTotals.

5) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –ª–æ–≥–∏–∫—É —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

–°—Ç–∞—Ä—ã–µ –ø–æ–ª—è ingredient.price –º–æ–≥—É—Ç –ø—Ä–æ—Å–∫–∞–∫–∏–≤–∞—Ç—å:

server/order-routes.ts

server/notifications.ts

6) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –º–µ–Ω—é

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–≥–ª–∏ –æ—Å—Ç–∞—Ç—å—Å—è —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:

Menu.tsx

CategoryItem

IngredientItem

7) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ¬´Small¬ª –∏ ¬´Standard¬ª —Ü–µ–Ω—ã –ø—Ä–æ—Ç–µ–∏–Ω–æ–≤

–ü—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö:

–ú–∞–ª–µ–Ω—å–∫–∞—è —á–∞—à–∞ + –±–æ–ª—å—à–æ–π –ø—Ä–æ—Ç–µ–∏–Ω

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —á–∞—à–∞ + –º–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–æ—Ç–µ–∏–Ω
–ù—É–∂–Ω–æ —Ç–æ—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

8) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

–ò–Ω–æ–≥–¥–∞ Replit SQLite —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ö–µ–º—É ‚Üí –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å extraPrice –≤ –±–∞–∑–µ.